<div class="row" x-signed-in>
    <form class="form-horizontal" class="hp" ng-submit="savePost(post)" >
        <div class="control-group">
            <textarea required class="form-control span8 hp-post-message active" ng-focus="showFullForm()" ng-model="post.message" placeholder="[[[How was your running today?]]]"></textarea>
        </div>
        <div class="hp-post-details active">
            <div class="control-group" style="height:0px;">
                <label for="distance" class="control-label">[[[Distance]]]</label>
                <div class="controls">
                    <input smart-float type="text" id="distance" ng-model="post.distance" placeholder="[[[Distance in km]]]">
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="control-group">
                <label  class="control-label">[[[Duration]]]</label>
                <div class="controls">
                    <div ng-model="post.duration" class="bootstrap-timepicker" style="display:inline-block;">
                        <timepicker hour-step="1" minute-step="1" show-seconds="true" show-meridian="false"></timepicker>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="control-group">
                <label for="location" class="control-label">[[[Town]]]</label>
                <div class="controls">
                    <input type="text" id="location" ng-model="post.location"  typeahead-editable="false" typeahead-wait-ms="500" typeahead="location as location.town for location in getTowns($viewValue)" placeholder="[[[town name]]]">
                </div>
            </div>

            <div class="row">

                <button type="submit" ng-disabled="form.$invalid || isUnchanged(user)" class="btn btn-primary pull-right">[[[Save]]]</button>
                <a href="#/post/{{post.post_id}}" class="btn btn-link pull-right">[[[Cancel]]]</a>
            </div>
        </div>
    </form>
</div>